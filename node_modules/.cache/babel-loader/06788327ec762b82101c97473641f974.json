{"ast":null,"code":"var _jsxFileName = \"D:\\\\Users\\\\abdel\\\\Documents\\\\Safe\\\\Code\\\\Bootcamp\\\\frontend-May\\\\src\\\\components\\\\registration\\\\SignupForm.js\",\n    _s = $RefreshSig$();\n\n// Importing react\nimport React, { useState } from 'react'; // Importing the commons\n\nimport { MinorBoxContainer, FormContainer, SignupInput, MutedLink, SubmitButton } from './CommonItems'; // Importing link\n\nimport { Link } from 'react-router-dom'; // RegEx (Regular Expressions)\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst validateEmail = email => {\n  var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(email);\n};\n\nconst validatePassword = password => {\n  const re = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,16}$/;\n  return re.test(password);\n};\n\nconst validatePhoneNumber = phoneNumber => {\n  const re = /[0-9]/;\n  return re.test(phoneNumber);\n};\n\nfunction SignupForm(props) {\n  _s();\n\n  // \"initial\", \"sending\", \"successful\", \"unsuccessful\", \"validation error\"\n  const [state, setState] = useState(\"initial\");\n  const [errorsState, setErrorsState] = useState([]); // Declare undefined variables for later assignment (ref props)\n\n  let avatarField;\n  let usernameField;\n  let passwordField;\n  let firstNameField;\n  let lastNameField;\n  let emailField;\n  let addressField;\n  let phoneNumberField; // To instantiate a FormData object\n\n  const formData = new FormData(); // Function for attaching files for the avatar of the user\n\n  const attachFile = evt => {\n    // Create an array for the files attached\n    const files = Array.from(evt.target.files); // Append each file to the formData\n\n    files.forEach((file, index) => {\n      formData.append(index, file);\n    });\n  };\n\n  const register = () => {\n    const errors = []; // 1. Validate the fields\n\n    if (usernameField.value.length == 0) {\n      errors.push(\"Please enter a valid username\");\n    }\n\n    if (!validatePassword(passwordField.value)) {\n      errors.push(\"Please enter a valid password\");\n    }\n\n    if (!validateEmail(emailField.value)) {\n      errors.push(\"Please enter a valid email address\");\n    }\n\n    if (!validatePhoneNumber(phoneNumberField.value)) {\n      errors.push(\"Please enter a valid phone number\");\n    } // 1.1 If there are errors, set the state to \"validation error\"\n\n\n    if (errors.length > 0) {\n      setState(\"validation error\"); // Populate the alert box with the errors\n\n      setErrorsState(errors);\n    } // 1.2 If there are no errors, set the state to \"sending\"\n    else {\n        setState(\"sending\");\n        setErrorsState([]);\n        formData.append('userName', usernameField.value);\n        formData.append('password', passwordField.value);\n        formData.append('firstName', firstNameField.value);\n        formData.append('lastName', lastNameField.value);\n        formData.append('email', emailField.value);\n        formData.append('phoneNumber', phoneNumberField.value);\n        formData.append('address', addressField.value);\n        fetch(`${process.env.REACT_APP_API_ENDPOINT}/user/add`, {\n          method: `POST`,\n          //headers: {\"Content-Type\": \"application/json\"},\n          body: formData\n        }) //2.1 If submission successful, set state \"successful\"\n        .then(backendResponse => backendResponse.json()).then(theJson => {\n          console.log(theJson);\n          setState(\"successful\");\n        }) // 2.2 If the submission is unsuccessful, set the state \"unsuccessful\"\n        .catch(error => {\n          console.log(error);\n          setState(\"unsuccessful\");\n        });\n      }\n  };\n\n  const BoldLink = {\n    fontSize: \"12px\",\n    color: \"#fff\",\n    fontWeight: \"500\",\n    textDecoration: \"none\"\n  };\n  return /*#__PURE__*/_jsxDEV(MinorBoxContainer, {\n    children: [/*#__PURE__*/_jsxDEV(FormContainer, {\n      children: [/*#__PURE__*/_jsxDEV(SignupInput, {\n        onChange: attachFile,\n        ref: elem => avatarField = elem,\n        type: \"file\",\n        placeholder: \"Please choose an avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SignupInput, {\n        ref: elem => usernameField = elem,\n        type: \"text\",\n        placeholder: \"Most Powerful Alias (username)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SignupInput, {\n        ref: elem => passwordField = elem,\n        type: \"password\",\n        placeholder: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SignupInput, {\n        ref: elem => firstNameField = elem,\n        type: \"text\",\n        placeholder: \"First Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SignupInput, {\n        ref: elem => lastNameField = elem,\n        type: \"text\",\n        placeholder: \"Last Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SignupInput, {\n        ref: elem => emailField = elem,\n        type: \"email\",\n        placeholder: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SignupInput, {\n        ref: elem => addressField = elem,\n        type: \"text\",\n        placeholder: \"Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SignupInput, {\n        ref: elem => phoneNumberField = elem,\n        type: \"text\",\n        placeholder: \"Phone Number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this), state !== \"sending\" && state !== \"successful\" && /*#__PURE__*/_jsxDEV(SubmitButton, {\n      onClick: register,\n      type: \"submit\",\n      style: {\n        marginTop: \"25px\"\n      },\n      children: \"Signup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }, this), state === \"validation error\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: errorsState.map(error => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 44\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }, this), state === \"successful\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-success\",\n      role: \"alert\",\n      children: \"You have registered successfully!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }, this), state === \"unsuccessful\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: \"Internal error. Please try again later.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }, this), state === \"sending\" && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(MutedLink, {\n      href: \"#\",\n      children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        style: BoldLink,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 42\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SignupForm, \"LWsNzOpChvRAr1hKF6jzQcohurU=\");\n\n_c = SignupForm;\nexport default SignupForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignupForm\");","map":{"version":3,"sources":["D:/Users/abdel/Documents/Safe/Code/Bootcamp/frontend-May/src/components/registration/SignupForm.js"],"names":["React","useState","MinorBoxContainer","FormContainer","SignupInput","MutedLink","SubmitButton","Link","validateEmail","email","re","test","validatePassword","password","validatePhoneNumber","phoneNumber","SignupForm","props","state","setState","errorsState","setErrorsState","avatarField","usernameField","passwordField","firstNameField","lastNameField","emailField","addressField","phoneNumberField","formData","FormData","attachFile","evt","files","Array","from","target","forEach","file","index","append","register","errors","value","length","push","fetch","process","env","REACT_APP_API_ENDPOINT","method","body","then","backendResponse","json","theJson","console","log","catch","error","BoldLink","fontSize","color","fontWeight","textDecoration","elem","marginTop","map"],"mappings":"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","sourcesContent":["// Importing react\nimport React, { useState } from 'react';\n// Importing the commons\nimport { MinorBoxContainer, FormContainer, SignupInput, MutedLink, SubmitButton } from './CommonItems';\n// Importing link\nimport { Link } from 'react-router-dom';\n\n// RegEx (Regular Expressions)\nconst validateEmail = (email) => {\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n}\n\nconst validatePassword = (password) => {\n    const re = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,16}$/;\n    return re.test(password);\n}\n\nconst validatePhoneNumber = (phoneNumber) => {\n    const re = /[0-9]/;\n    return re.test(phoneNumber);\n}\n\nfunction SignupForm(props) {\n    \n    // \"initial\", \"sending\", \"successful\", \"unsuccessful\", \"validation error\"\n    const [state, setState] = useState(\"initial\");\n    const [errorsState, setErrorsState] = useState([]);\n\n    // Declare undefined variables for later assignment (ref props)\n    let avatarField;\n    let usernameField;\n    let passwordField;\n    let firstNameField;\n    let lastNameField;\n    let emailField;\n    let addressField;\n    let phoneNumberField;\n\n    // To instantiate a FormData object\n    const formData = new FormData();\n\n    // Function for attaching files for the avatar of the user\n    const attachFile = (evt) => {\n\n        // Create an array for the files attached\n        const files = Array.from(evt.target.files);\n\n        // Append each file to the formData\n        files.forEach(\n            (file, index) => {\n                formData.append(index, file);\n            }\n        )\n    }\n\n    const register = () => {\n\n        const errors = [];\n\n        // 1. Validate the fields\n        if (usernameField.value.length == 0) {\n            errors.push(\"Please enter a valid username\");\n        }\n        if (!validatePassword(passwordField.value)) {\n            errors.push(\"Please enter a valid password\");\n        }\n        if (!validateEmail(emailField.value)) {\n            errors.push(\"Please enter a valid email address\");\n        }\n        if (!validatePhoneNumber(phoneNumberField.value)) {\n            errors.push(\"Please enter a valid phone number\");\n        }\n\n        // 1.1 If there are errors, set the state to \"validation error\"\n        if(errors.length > 0){\n            setState(\"validation error\");\n            // Populate the alert box with the errors\n            setErrorsState(errors);\n        }\n\n        // 1.2 If there are no errors, set the state to \"sending\"\n        else{\n            setState(\"sending\");\n            setErrorsState([]);\n\n            formData.append('userName', usernameField.value);\n            formData.append('password', passwordField.value);\n            formData.append('firstName', firstNameField.value);\n            formData.append('lastName', lastNameField.value);\n            formData.append('email', emailField.value);\n            formData.append('phoneNumber', phoneNumberField.value);\n            formData.append('address', addressField.value);\n\n            fetch(`${process.env.REACT_APP_API_ENDPOINT}/user/add`, {\n                method: `POST`,\n                //headers: {\"Content-Type\": \"application/json\"},\n                body: formData\n            })\n\n            //2.1 If submission successful, set state \"successful\"\n            .then((backendResponse) => backendResponse.json())\n            .then((theJson) => {\n                console.log(theJson);\n                setState(\"successful\");\n            })\n            // 2.2 If the submission is unsuccessful, set the state \"unsuccessful\"\n            .catch((error) => {\n                console.log(error);\n                setState(\"unsuccessful\");\n            });\n        }\n    \n    }   \n\n    const BoldLink = {\n        fontSize: \"12px\",\n        color: \"#fff\",\n        fontWeight: \"500\",\n        textDecoration: \"none\"\n    };\n\n    return (\n        <MinorBoxContainer>\n            \n            <FormContainer>\n\n                <SignupInput \n                onChange={attachFile}\n                ref={(elem) => avatarField = elem} type=\"file\" placeholder=\"Please choose an avatar\" />\n                <SignupInput ref={(elem) => usernameField = elem} type=\"text\" placeholder=\"Most Powerful Alias (username)\" />\n                <SignupInput ref={(elem) => passwordField = elem} type=\"password\" placeholder=\"Password\" />\n                <SignupInput ref={(elem) => firstNameField = elem} type=\"text\" placeholder=\"First Name\" />\n                <SignupInput ref={(elem) => lastNameField = elem} type=\"text\" placeholder=\"Last Name\" />\n                <SignupInput ref={(elem) => emailField = elem} type=\"email\" placeholder=\"Email\" />\n                <SignupInput ref={(elem) => addressField = elem} type=\"text\" placeholder=\"Address\" />\n                <SignupInput ref={(elem) => phoneNumberField = elem} type=\"text\" placeholder=\"Phone Number\" />\n\n            </FormContainer>\n\n            {\n                state !== \"sending\" && state !== \"successful\" && \n                <SubmitButton onClick={register}\n                type=\"submit\" style={{ marginTop: \"25px\" }}>Signup</SubmitButton>\n            }\n            \n            {\n                state === \"validation error\" &&\n                <div className=\"alert alert-danger\" role=\"alert\">\n                    <ul>\n                        {\n                            errorsState.map(\n                                (error) => <li>{error}</li>\n                            )\n                        }\n                    </ul>\n                </div>\n            }\n\n            {\n                state === \"successful\" &&\n                <div className=\"alert alert-success\" role=\"alert\">\n                    You have registered successfully!\n                </div>\n            }\n\n            {\n                state === \"unsuccessful\" &&\n                <div className=\"alert alert-danger\" role=\"alert\">\n                    Internal error. Please try again later.\n                </div>\n            }\n\n            {\n                state === \"sending\" &&\n                <p>Loading...</p>\n            }\n\n            <MutedLink href=\"#\">\n                Already have an account? <Link to='/login' style={BoldLink}>Login</Link>\n            </MutedLink>\n\n        </MinorBoxContainer>\n    )\n}\n\nexport default SignupForm;"]},"metadata":{},"sourceType":"module"}