{"ast":null,"code":"import { __assign, __awaiter, __extends, __generator } from \"tslib\";\n/* eslint-disable prettier/prettier */\n\nimport React from 'react';\nimport { utils, isEditMode } from 'pro-gallery-lib';\nimport ImageItem from '../imageItem';\nimport PlayBackground from '../../svgs/components/play_background';\nimport PlayTriangle from '../../svgs/components/play_triangle';\nimport VideoItemPlaceholder from './videoItemPlaceholder';\nvar videoControls = React.createElement(\"div\", null, React.createElement(\"i\", {\n  key: \"play-triangle\",\n  \"data-hook\": \"play-triangle\",\n  className: 'gallery-item-video-play-triangle play-triangle '\n}, React.createElement(PlayTriangle, null)), React.createElement(\"i\", {\n  key: \"play-bg\",\n  \"data-hook\": \"play-background\",\n  className: 'gallery-item-video-play-background play-background '\n}, React.createElement(PlayBackground, null)));\n\nvar VideoItemWrapper =\n/** @class */\nfunction (_super) {\n  __extends(VideoItemWrapper, _super);\n\n  function VideoItemWrapper(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.mightPlayVideo = _this.mightPlayVideo.bind(_this);\n    _this.createVideoItemPlaceholder = _this.createVideoItemPlaceholder.bind(_this);\n    _this.state = {\n      VideoItemLoaded: false\n    };\n    return _this;\n  }\n\n  VideoItemWrapper.prototype.mightPlayVideo = function () {\n    var _a = this.props.styleParams,\n        videoPlay = _a.videoPlay,\n        itemClick = _a.itemClick;\n    var hasLink = this.props.hasLink;\n\n    if (this.props.isVideoPlaceholder) {\n      return false;\n    }\n\n    if (videoPlay === 'hover' || videoPlay === 'auto') {\n      return true;\n    } else if (itemClick === 'nothing') {\n      return true;\n    } else if (itemClick === 'link' && !hasLink) {\n      return true;\n    } // }\n\n\n    return false;\n  };\n\n  VideoItemWrapper.prototype.createVideoItemPlaceholder = function (showVideoControls) {\n    var props = utils.pick(this.props, ['alt', 'title', 'description', 'id', 'idx', 'styleParams', 'createUrl', 'settings', 'actions']);\n    return React.createElement(VideoItemPlaceholder, __assign({}, props, {\n      key: \"videoPlaceholder\",\n      imageDimensions: this.props.imageDimensions,\n      isThumbnail: !!this.props.thumbnailHighlightId,\n      id: this.props.idx,\n      videoControls: showVideoControls && !this.mightPlayVideo() && videoControls\n    }));\n  };\n\n  VideoItemWrapper.prototype.componentDidMount = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var VideoItem, e_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!!isEditMode()) return [3\n            /*break*/\n            , 4];\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            return [4\n            /*yield*/\n            , import(\n            /* webpackChunkName: \"proGallery_videoItem\" */\n            './videoItem')];\n\n          case 2:\n            VideoItem = _a.sent();\n            this.VideoItem = VideoItem.default;\n\n            if (this.mightPlayVideo()) {\n              this.setState({\n                VideoItemLoaded: true\n              });\n            }\n\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            e_1 = _a.sent();\n            console.error('Failed to fetch VideoItem');\n            return [3\n            /*break*/\n            , 4];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  VideoItemWrapper.prototype.render = function () {\n    var hover = this.props.hover;\n    var showVideoControls = !this.props.hidePlay && this.props.styleParams.showVideoPlayButton;\n    var videoPlaceholder = this.createVideoItemPlaceholder(showVideoControls);\n    var VideoItem = this.VideoItem;\n\n    if (!this.mightPlayVideo() || !VideoItem) {\n      return React.createElement(\"div\", null, videoPlaceholder, hover);\n    }\n\n    return React.createElement(VideoItem, __assign({}, this.props, {\n      videoPlaceholder: videoPlaceholder,\n      videoControls: showVideoControls && videoControls\n    }));\n  };\n\n  return VideoItemWrapper;\n}(ImageItem);\n\nexport default VideoItemWrapper;\n/* eslint-enable prettier/prettier */","map":{"version":3,"sources":["../../../../../src/components/item/videos/videoItemWrapper.js"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { __assign, __awaiter, __extends, __generator } from \"tslib\";\n/* eslint-disable prettier/prettier */\nimport React from 'react';\nimport { utils, isEditMode } from 'pro-gallery-lib';\nimport ImageItem from '../imageItem';\nimport PlayBackground from '../../svgs/components/play_background';\nimport PlayTriangle from '../../svgs/components/play_triangle';\nimport VideoItemPlaceholder from './videoItemPlaceholder';\nvar videoControls = (React.createElement(\"div\", null,\n    React.createElement(\"i\", { key: \"play-triangle\", \"data-hook\": \"play-triangle\", className: 'gallery-item-video-play-triangle play-triangle ' },\n        React.createElement(PlayTriangle, null)),\n    React.createElement(\"i\", { key: \"play-bg\", \"data-hook\": \"play-background\", className: 'gallery-item-video-play-background play-background ' },\n        React.createElement(PlayBackground, null))));\nvar VideoItemWrapper = /** @class */ (function (_super) {\n    __extends(VideoItemWrapper, _super);\n    function VideoItemWrapper(props) {\n        var _this = _super.call(this, props) || this;\n        _this.mightPlayVideo = _this.mightPlayVideo.bind(_this);\n        _this.createVideoItemPlaceholder =\n            _this.createVideoItemPlaceholder.bind(_this);\n        _this.state = { VideoItemLoaded: false };\n        return _this;\n    }\n    VideoItemWrapper.prototype.mightPlayVideo = function () {\n        var _a = this.props.styleParams, videoPlay = _a.videoPlay, itemClick = _a.itemClick;\n        var hasLink = this.props.hasLink;\n        if (this.props.isVideoPlaceholder) {\n            return false;\n        }\n        if (videoPlay === 'hover' || videoPlay === 'auto') {\n            return true;\n        }\n        else if (itemClick === 'nothing') {\n            return true;\n        }\n        else if (itemClick === 'link' && !hasLink) {\n            return true;\n        }\n        // }\n        return false;\n    };\n    VideoItemWrapper.prototype.createVideoItemPlaceholder = function (showVideoControls) {\n        var props = utils.pick(this.props, [\n            'alt',\n            'title',\n            'description',\n            'id',\n            'idx',\n            'styleParams',\n            'createUrl',\n            'settings',\n            'actions',\n        ]);\n        return (React.createElement(VideoItemPlaceholder, __assign({}, props, { key: \"videoPlaceholder\", imageDimensions: this.props.imageDimensions, isThumbnail: !!this.props.thumbnailHighlightId, id: this.props.idx, videoControls: showVideoControls && !this.mightPlayVideo() && videoControls })));\n    };\n    VideoItemWrapper.prototype.componentDidMount = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var VideoItem, e_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!isEditMode()) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, import(\n                            /* webpackChunkName: \"proGallery_videoItem\" */ './videoItem')];\n                    case 2:\n                        VideoItem = _a.sent();\n                        this.VideoItem = VideoItem.default;\n                        if (this.mightPlayVideo()) {\n                            this.setState({ VideoItemLoaded: true });\n                        }\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _a.sent();\n                        console.error('Failed to fetch VideoItem');\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    VideoItemWrapper.prototype.render = function () {\n        var hover = this.props.hover;\n        var showVideoControls = !this.props.hidePlay && this.props.styleParams.showVideoPlayButton;\n        var videoPlaceholder = this.createVideoItemPlaceholder(showVideoControls);\n        var VideoItem = this.VideoItem;\n        if (!this.mightPlayVideo() || !VideoItem) {\n            return (React.createElement(\"div\", null,\n                videoPlaceholder,\n                hover));\n        }\n        return (React.createElement(VideoItem, __assign({}, this.props, { videoPlaceholder: videoPlaceholder, videoControls: showVideoControls && videoControls })));\n    };\n    return VideoItemWrapper;\n}(ImageItem));\nexport default VideoItemWrapper;\n/* eslint-enable prettier/prettier */\n//# sourceMappingURL=videoItemWrapper.js.map"]},"metadata":{},"sourceType":"module"}