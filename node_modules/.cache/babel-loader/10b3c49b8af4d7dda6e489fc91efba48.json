{"ast":null,"code":"/* eslint-disable prettier/prettier */\nimport { GALLERY_CONSTS, window, utils } from 'pro-gallery-lib';\n\nvar CssScrollHelper =\n/** @class */\nfunction () {\n  function CssScrollHelper() {\n    this.pgScrollSteps = [40960, 20480, 10240, 5120, 2560, 1280, 640, 320, 160, 80, 40, 20, 10];\n    this.pgScrollClassName = 'pgscl';\n    this.screenSize = Math.max(window.screen.width, window.screen.height);\n    this.scrollCss = [];\n    this.scrollCssProps = [];\n    this.calcScrollPaddings(false);\n  }\n\n  CssScrollHelper.prototype.calcScrollPaddings = function () {\n    var _this = this; //padding: [belowScreen, aboveScreen]\n    //padding: [above images, below image]\n\n\n    this.allPagePadding = function () {\n      return [Infinity, Infinity];\n    };\n\n    this.inScreenPadding = function () {\n      return [0, 0];\n    };\n\n    this.aboveScreenPadding = function () {\n      return [0, Infinity];\n    };\n\n    this.justBelowScreenPadding = function (itemHeight) {\n      return [Infinity, -1 * (itemHeight + _this.screenSize)];\n    };\n\n    this.justBelowAndAboveScreenPadding = function () {\n      return [2560, Infinity];\n    };\n\n    this.justBelowAndInScreenPadding = function () {\n      return [5120, 0];\n    };\n\n    this.belowScreenPadding = function () {\n      return [Infinity, 0];\n    };\n\n    this.highResPadding = function () {\n      return [5120, Infinity];\n    };\n\n    this.lowResPadding = function () {\n      return [10240, Infinity];\n    };\n  };\n\n  CssScrollHelper.prototype.getSellectorDomId = function (_a) {\n    var id = _a.id,\n        idx = _a.idx;\n    var shortId = String(id).replace(/[\\W]+/g, '');\n    return \"pgi\" + shortId + \"_\" + idx;\n  };\n\n  CssScrollHelper.prototype.buildScrollClassName = function (domId, idx, val) {\n    var shortId = String(domId).replace(/[\\W]+/g, '').slice(-8);\n    return this.pgScrollClassName + \"_\" + shortId + \"_\" + val + \"-\" + (this.pgScrollSteps[idx] + Number(val));\n  };\n\n  CssScrollHelper.prototype.calcScrollClasses = function (domId, scrollTop) {\n    var _this = this;\n\n    return this.pgScrollClassName + \"-\" + scrollTop + \" \" + this.pgScrollSteps.map(function (step, idx) {\n      return _this.buildScrollClassName(domId, idx, Math.floor(scrollTop / step) * step);\n    }).join(' ');\n  };\n\n  CssScrollHelper.prototype.calcScrollCss = function (_a) {\n    var _this = this;\n\n    var domId = _a.domId,\n        items = _a.items,\n        styleParams = _a.styleParams,\n        container = _a.container;\n    utils.isVerbose() && console.time('CSS Scroll');\n\n    if (!(items && items.length)) {\n      return [];\n    }\n\n    var scrollAnimation = styleParams.scrollAnimation;\n\n    if (!scrollAnimation || scrollAnimation === GALLERY_CONSTS.scrollAnimations.NO_EFFECT) {\n      return [];\n    }\n\n    this.screenSize = styleParams.oneRow ? Math.min(window.outerWidth, window.screen.width, container.galleryWidth) : Math.min(window.outerHeight, window.screen.height);\n\n    if (!styleParams.oneRow && utils.isMobile()) {\n      this.screenSize += 50;\n    }\n\n    this.calcScrollPaddings();\n    var lastItem = items.slice(-1)[0];\n    var _b = lastItem.offset,\n        top = _b.top,\n        right = _b.right;\n    var maxStep = this.pgScrollSteps[0];\n    this.minHeight = 0 - maxStep;\n    this.maxHeight = (Math.ceil(((styleParams.oneRow ? right : top) + this.screenSize) / maxStep) + 1) * maxStep;\n    var cssScroll = items.map(function (item) {\n      return _this.calcScrollCssForItem({\n        domId: domId,\n        item: item,\n        styleParams: styleParams\n      });\n    });\n    utils.isVerbose() && console.timeEnd('CSS Scroll');\n    return cssScroll;\n  };\n\n  CssScrollHelper.prototype.shouldCalcScrollCss = function (_a) {\n    var type = _a.type;\n\n    if (type === 'video' || type === 'text') {\n      return false;\n    }\n\n    return true;\n  };\n\n  CssScrollHelper.prototype.createScrollSelectorsFunction = function (_a) {\n    var _this = this;\n\n    var domId = _a.domId,\n        item = _a.item,\n        styleParams = _a.styleParams;\n    var imageTop = styleParams.oneRow ? item.offset.left - this.screenSize : item.offset.top - this.screenSize;\n    var imageBottom = styleParams.oneRow ? item.offset.left + item.width : item.offset.top + item.height;\n    var minStep = this.pgScrollSteps[this.pgScrollSteps.length - 1];\n\n    var ceil = function (num, step) {\n      return Math.ceil(Math.min(_this.maxHeight, num) / step) * step;\n    };\n\n    var floor = function (num, step) {\n      return Math.floor(Math.max(_this.minHeight, num) / step) * step;\n    };\n\n    var sellectorDomId = this.getSellectorDomId(item);\n    return function (padding, suffix) {\n      var before = padding[0],\n          after = padding[1];\n\n      if (before === Infinity && after === Infinity) {\n        return \"#pro-gallery-\" + domId + \" #\" + sellectorDomId + \" \" + suffix;\n      }\n\n      var from = floor(imageTop - before, minStep);\n      var to = ceil(imageBottom + after, minStep); // if (utils.isVerbose()) {\n      //   console.log(\n      //     `CSS SCROLL - item #${item.idx} display range is: (${from} - ${to})`,\n      //   );\n      // }\n\n      var scrollClasses = [];\n\n      while (from < to) {\n        var largestDividerIdx = _this.pgScrollSteps.findIndex(function (step) {\n          return from % step === 0 && from + step <= to;\n        }); //eslint-disable-line\n\n\n        if (largestDividerIdx === -1) {\n          console.error(\"largestDividerIdx is -1. Couldn't find index in pgScrollSteps array.\\nfrom =\", from, '\\nto =', to, '\\npadding[0] =', padding[0], '\\npadding[1] =', padding[1]);\n          break;\n        }\n\n        scrollClasses.push(\".\" + _this.buildScrollClassName(domId, largestDividerIdx, from) + \" ~ div #\" + sellectorDomId + \" \" + suffix);\n        from += _this.pgScrollSteps[largestDividerIdx]; // console.count('pgScroll class created');\n      }\n\n      return scrollClasses.join(', ');\n    };\n  };\n\n  CssScrollHelper.prototype.calcScrollCssForItem = function (_a) {\n    var domId = _a.domId,\n        item = _a.item,\n        styleParams = _a.styleParams;\n    var idx = item.idx;\n    var scrollCss = '';\n    var createScrollSelectors = this.createScrollSelectorsFunction({\n      domId: domId,\n      item: item,\n      styleParams: styleParams\n    }); //scrollAnimation\n\n    scrollCss += this.createScrollAnimationsIfNeeded({\n      idx: idx,\n      item: item,\n      styleParams: styleParams,\n      createScrollSelectors: createScrollSelectors\n    }); // if (utils.isVerbose()) {\n    //   console.log(\n    //     'CSS SCROLL - css calc for item #' + idx,\n    //     item,\n    //     this.scrollCss[idx],\n    //   );\n    // }\n\n    this.scrollCss[idx] = scrollCss || this.scrollCss[idx];\n    return this.scrollCss[idx]; // console.count('pgScroll item created');\n  };\n\n  CssScrollHelper.prototype.createScrollAnimationsIfNeeded = function (_a) {\n    var idx = _a.idx,\n        styleParams = _a.styleParams,\n        createScrollSelectors = _a.createScrollSelectors;\n    var isRTL = styleParams.isRTL,\n        oneRow = styleParams.oneRow,\n        scrollAnimation = styleParams.scrollAnimation;\n\n    if (!scrollAnimation || scrollAnimation === GALLERY_CONSTS.scrollAnimations.NO_EFFECT) {\n      return '';\n    }\n\n    var _randomDelay = (idx % 3 + 1) * 100; //100 - 300\n\n\n    var _randomDuration = (idx % 3 + 1) * 100; //100 - 300\n\n\n    var animationPreparationPadding = this.allPagePadding();\n    var animationActivePadding = this.aboveScreenPadding();\n    var scrollAnimationCss = ''; // notice: these 2 animations must have the blurry image\n\n    if (scrollAnimation === GALLERY_CONSTS.scrollAnimations.MAIN_COLOR || scrollAnimation === GALLERY_CONSTS.scrollAnimations.BLUR) {\n      scrollAnimationCss += createScrollSelectors(animationPreparationPadding, \" [data-hook=\\\"image-item-overlay\\\"]\") + (\"{filter: opacity(1); transition: filter 1.\" + _randomDuration + \"s ease-in \" + _randomDelay + \"ms !important;}\");\n      scrollAnimationCss += createScrollSelectors(animationActivePadding, \" [data-hook=\\\"image-item-overlay\\\"]\") + \"{filter: opacity(0) !important;}\";\n    }\n\n    if (scrollAnimation === GALLERY_CONSTS.scrollAnimations.FADE_IN) {\n      scrollAnimationCss += createScrollSelectors(animationPreparationPadding, ' .gallery-item-wrapper') + (\"{filter: opacity(0); transition: filter 1.\" + _randomDuration + \"s ease-in !important;}\");\n      scrollAnimationCss += createScrollSelectors(animationActivePadding, ' .gallery-item-wrapper') + \"{filter: opacity(1) !important;}\";\n    }\n\n    if (scrollAnimation === GALLERY_CONSTS.scrollAnimations.GRAYSCALE) {\n      scrollAnimationCss += createScrollSelectors(animationPreparationPadding, ' .gallery-item-wrapper') + (\"{filter: grayscale(100%); transition: filter 1.\" + (200 + _randomDuration) + \"s ease-in !important;}\");\n      scrollAnimationCss += createScrollSelectors(animationActivePadding, ' .gallery-item-wrapper') + \"{filter: grayscale(0) !important;}\";\n    }\n\n    if (scrollAnimation === GALLERY_CONSTS.scrollAnimations.SLIDE_UP) {\n      var axis = oneRow ? 'X' : 'Y';\n      var direction = isRTL ? '-' : '';\n      scrollAnimationCss += createScrollSelectors(animationPreparationPadding, '') + '{overflow: visible !important;}' + createScrollSelectors(animationPreparationPadding, ' > div') + (\"{transform: translate\" + axis + \"(\" + direction + \"100px); transition: transform 0.8s cubic-bezier(.13,.78,.53,.92) !important;}\");\n      scrollAnimationCss += createScrollSelectors(animationActivePadding, ' > div') + (\"{transform: translate\" + axis + \"(0) !important;}\");\n    }\n\n    if (scrollAnimation === GALLERY_CONSTS.scrollAnimations.EXPAND) {\n      scrollAnimationCss += createScrollSelectors(animationPreparationPadding, ' > div') + (\"{transform: scale(0.95); transition: transform 1s cubic-bezier(.13,.78,.53,.92) \" + _randomDelay + \"ms !important;}\");\n      scrollAnimationCss += createScrollSelectors(animationActivePadding, ' > div') + \"{transform: scale(1) !important;}\";\n    }\n\n    if (scrollAnimation === GALLERY_CONSTS.scrollAnimations.SHRINK) {\n      scrollAnimationCss += createScrollSelectors(animationPreparationPadding, '') + '{overflow: visible !important;}' + createScrollSelectors(animationPreparationPadding, ' > div') + (\"{transform: scale(1.05); transition: transform 1s cubic-bezier(.13,.78,.53,.92) \" + _randomDelay + \"ms !important;}\");\n      scrollAnimationCss += createScrollSelectors(animationActivePadding, ' > div') + \"{transform: scale(1) !important;}\";\n    }\n\n    if (scrollAnimation === GALLERY_CONSTS.scrollAnimations.ZOOM_OUT) {\n      scrollAnimationCss += createScrollSelectors(animationPreparationPadding, ' .gallery-item-wrapper') + (\"{transform: scale(1.1); transition: transform 1.2s cubic-bezier(.13,.78,.53,.92) \" + _randomDelay + \"ms !important;}\");\n      scrollAnimationCss += createScrollSelectors(animationActivePadding, ' .gallery-item-wrapper') + \"{transform: scale(1) !important;}\";\n    }\n\n    if (scrollAnimation === GALLERY_CONSTS.scrollAnimations.ONE_COLOR) {\n      var oneColorAnimationColor = styleParams.oneColorAnimationColor && styleParams.oneColorAnimationColor.value ? styleParams.oneColorAnimationColor.value : 'transparent';\n      scrollAnimationCss += createScrollSelectors(animationPreparationPadding, '') + (\"{background-color: \" + oneColorAnimationColor + \";}\");\n      scrollAnimationCss += createScrollSelectors(animationPreparationPadding, ' .gallery-item-wrapper') + (\"{filter: opacity(0); transition: filter 0.\" + (600 + _randomDuration) + \"s ease-in !important;}\");\n      scrollAnimationCss += createScrollSelectors(animationActivePadding, ' .gallery-item-wrapper') + \"{filter: opacity(1) !important;}\";\n    }\n\n    return scrollAnimationCss;\n  };\n\n  return CssScrollHelper;\n}();\n\nexport var cssScrollHelper = new CssScrollHelper(); // Testing the best combination of scroll steps (goal is to reduce the number of classe sper item to minimum)\n// ----------------------------------------------------------------------------------------------------------\n// pgScrollSteps = [1000, 100, 10]; -> 6759 / 354 = 19 classes per item\n// pgScrollSteps = [2500, 500, 100, 20]; -> 4137 / 354 = 11.6 classes per item\n// pgScrollSteps = [2560, 1280, 640, 320, 160, 80, 40, 20]; -> 2502 / 354 = 7 classes per item\n// pgScrollSteps = [5120, 2560, 1280, 640, 320, 160, 80, 40, 20]; -> 2502 / 354 = 7 classes per item\n// pgScrollSteps = [5120, 2560, 1280, 640, 320, 160, 80, 40, 20, 10]; -> 2772 / 354 = 7.8 classes per item\n\n/* eslint-enable prettier/prettier */","map":{"version":3,"sources":["../../../../src/components/helpers/cssScrollHelper.js"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/* eslint-disable prettier/prettier */\nimport { GALLERY_CONSTS, window, utils } from 'pro-gallery-lib';\nvar CssScrollHelper = /** @class */ (function () {\n    function CssScrollHelper() {\n        this.pgScrollSteps = [\n            40960, 20480, 10240, 5120, 2560, 1280, 640, 320, 160, 80, 40, 20, 10,\n        ];\n        this.pgScrollClassName = 'pgscl';\n        this.screenSize = Math.max(window.screen.width, window.screen.height);\n        this.scrollCss = [];\n        this.scrollCssProps = [];\n        this.calcScrollPaddings(false);\n    }\n    CssScrollHelper.prototype.calcScrollPaddings = function () {\n        var _this = this;\n        //padding: [belowScreen, aboveScreen]\n        //padding: [above images, below image]\n        this.allPagePadding = function () { return [Infinity, Infinity]; };\n        this.inScreenPadding = function () { return [0, 0]; };\n        this.aboveScreenPadding = function () { return [0, Infinity]; };\n        this.justBelowScreenPadding = function (itemHeight) { return [\n            Infinity,\n            -1 * (itemHeight + _this.screenSize),\n        ]; };\n        this.justBelowAndAboveScreenPadding = function () { return [2560, Infinity]; };\n        this.justBelowAndInScreenPadding = function () { return [5120, 0]; };\n        this.belowScreenPadding = function () { return [Infinity, 0]; };\n        this.highResPadding = function () { return [5120, Infinity]; };\n        this.lowResPadding = function () { return [10240, Infinity]; };\n    };\n    CssScrollHelper.prototype.getSellectorDomId = function (_a) {\n        var id = _a.id, idx = _a.idx;\n        var shortId = String(id).replace(/[\\W]+/g, '');\n        return \"pgi\" + shortId + \"_\" + idx;\n    };\n    CssScrollHelper.prototype.buildScrollClassName = function (domId, idx, val) {\n        var shortId = String(domId).replace(/[\\W]+/g, '').slice(-8);\n        return this.pgScrollClassName + \"_\" + shortId + \"_\" + val + \"-\" + (this.pgScrollSteps[idx] + Number(val));\n    };\n    CssScrollHelper.prototype.calcScrollClasses = function (domId, scrollTop) {\n        var _this = this;\n        return (this.pgScrollClassName + \"-\" + scrollTop + \" \" +\n            this.pgScrollSteps\n                .map(function (step, idx) {\n                return _this.buildScrollClassName(domId, idx, Math.floor(scrollTop / step) * step);\n            })\n                .join(' '));\n    };\n    CssScrollHelper.prototype.calcScrollCss = function (_a) {\n        var _this = this;\n        var domId = _a.domId, items = _a.items, styleParams = _a.styleParams, container = _a.container;\n        utils.isVerbose() && console.time('CSS Scroll');\n        if (!(items && items.length)) {\n            return [];\n        }\n        var scrollAnimation = styleParams.scrollAnimation;\n        if (!scrollAnimation ||\n            scrollAnimation === GALLERY_CONSTS.scrollAnimations.NO_EFFECT) {\n            return [];\n        }\n        this.screenSize = styleParams.oneRow\n            ? Math.min(window.outerWidth, window.screen.width, container.galleryWidth)\n            : Math.min(window.outerHeight, window.screen.height);\n        if (!styleParams.oneRow && utils.isMobile()) {\n            this.screenSize += 50;\n        }\n        this.calcScrollPaddings();\n        var lastItem = items.slice(-1)[0];\n        var _b = lastItem.offset, top = _b.top, right = _b.right;\n        var maxStep = this.pgScrollSteps[0];\n        this.minHeight = 0 - maxStep;\n        this.maxHeight =\n            (Math.ceil(((styleParams.oneRow ? right : top) + this.screenSize) / maxStep) +\n                1) *\n                maxStep;\n        var cssScroll = items.map(function (item) {\n            return _this.calcScrollCssForItem({ domId: domId, item: item, styleParams: styleParams });\n        });\n        utils.isVerbose() && console.timeEnd('CSS Scroll');\n        return cssScroll;\n    };\n    CssScrollHelper.prototype.shouldCalcScrollCss = function (_a) {\n        var type = _a.type;\n        if (type === 'video' || type === 'text') {\n            return false;\n        }\n        return true;\n    };\n    CssScrollHelper.prototype.createScrollSelectorsFunction = function (_a) {\n        var _this = this;\n        var domId = _a.domId, item = _a.item, styleParams = _a.styleParams;\n        var imageTop = styleParams.oneRow\n            ? item.offset.left - this.screenSize\n            : item.offset.top - this.screenSize;\n        var imageBottom = styleParams.oneRow\n            ? item.offset.left + item.width\n            : item.offset.top + item.height;\n        var minStep = this.pgScrollSteps[this.pgScrollSteps.length - 1];\n        var ceil = function (num, step) {\n            return Math.ceil(Math.min(_this.maxHeight, num) / step) * step;\n        };\n        var floor = function (num, step) {\n            return Math.floor(Math.max(_this.minHeight, num) / step) * step;\n        };\n        var sellectorDomId = this.getSellectorDomId(item);\n        return function (padding, suffix) {\n            var before = padding[0], after = padding[1];\n            if (before === Infinity && after === Infinity) {\n                return \"#pro-gallery-\" + domId + \" #\" + sellectorDomId + \" \" + suffix;\n            }\n            var from = floor(imageTop - before, minStep);\n            var to = ceil(imageBottom + after, minStep);\n            // if (utils.isVerbose()) {\n            //   console.log(\n            //     `CSS SCROLL - item #${item.idx} display range is: (${from} - ${to})`,\n            //   );\n            // }\n            var scrollClasses = [];\n            while (from < to) {\n                var largestDividerIdx = _this.pgScrollSteps.findIndex(function (step) { return (from % step === 0 && from + step <= to); }); //eslint-disable-line\n                if (largestDividerIdx === -1) {\n                    console.error(\"largestDividerIdx is -1. Couldn't find index in pgScrollSteps array.\\nfrom =\", from, '\\nto =', to, '\\npadding[0] =', padding[0], '\\npadding[1] =', padding[1]);\n                    break;\n                }\n                scrollClasses.push(\".\" + _this.buildScrollClassName(domId, largestDividerIdx, from) + \" ~ div #\" + sellectorDomId + \" \" + suffix);\n                from += _this.pgScrollSteps[largestDividerIdx];\n                // console.count('pgScroll class created');\n            }\n            return scrollClasses.join(', ');\n        };\n    };\n    CssScrollHelper.prototype.calcScrollCssForItem = function (_a) {\n        var domId = _a.domId, item = _a.item, styleParams = _a.styleParams;\n        var idx = item.idx;\n        var scrollCss = '';\n        var createScrollSelectors = this.createScrollSelectorsFunction({\n            domId: domId,\n            item: item,\n            styleParams: styleParams,\n        });\n        //scrollAnimation\n        scrollCss += this.createScrollAnimationsIfNeeded({\n            idx: idx,\n            item: item,\n            styleParams: styleParams,\n            createScrollSelectors: createScrollSelectors,\n        });\n        // if (utils.isVerbose()) {\n        //   console.log(\n        //     'CSS SCROLL - css calc for item #' + idx,\n        //     item,\n        //     this.scrollCss[idx],\n        //   );\n        // }\n        this.scrollCss[idx] = scrollCss || this.scrollCss[idx];\n        return this.scrollCss[idx];\n        // console.count('pgScroll item created');\n    };\n    CssScrollHelper.prototype.createScrollAnimationsIfNeeded = function (_a) {\n        var idx = _a.idx, styleParams = _a.styleParams, createScrollSelectors = _a.createScrollSelectors;\n        var isRTL = styleParams.isRTL, oneRow = styleParams.oneRow, scrollAnimation = styleParams.scrollAnimation;\n        if (!scrollAnimation ||\n            scrollAnimation === GALLERY_CONSTS.scrollAnimations.NO_EFFECT) {\n            return '';\n        }\n        var _randomDelay = ((idx % 3) + 1) * 100; //100 - 300\n        var _randomDuration = ((idx % 3) + 1) * 100; //100 - 300\n        var animationPreparationPadding = this.allPagePadding();\n        var animationActivePadding = this.aboveScreenPadding();\n        var scrollAnimationCss = '';\n        // notice: these 2 animations must have the blurry image\n        if (scrollAnimation === GALLERY_CONSTS.scrollAnimations.MAIN_COLOR ||\n            scrollAnimation === GALLERY_CONSTS.scrollAnimations.BLUR) {\n            scrollAnimationCss +=\n                createScrollSelectors(animationPreparationPadding, \" [data-hook=\\\"image-item-overlay\\\"]\") +\n                    (\"{filter: opacity(1); transition: filter 1.\" + _randomDuration + \"s ease-in \" + _randomDelay + \"ms !important;}\");\n            scrollAnimationCss +=\n                createScrollSelectors(animationActivePadding, \" [data-hook=\\\"image-item-overlay\\\"]\") + \"{filter: opacity(0) !important;}\";\n        }\n        if (scrollAnimation === GALLERY_CONSTS.scrollAnimations.FADE_IN) {\n            scrollAnimationCss +=\n                createScrollSelectors(animationPreparationPadding, ' .gallery-item-wrapper') +\n                    (\"{filter: opacity(0); transition: filter 1.\" + _randomDuration + \"s ease-in !important;}\");\n            scrollAnimationCss +=\n                createScrollSelectors(animationActivePadding, ' .gallery-item-wrapper') + \"{filter: opacity(1) !important;}\";\n        }\n        if (scrollAnimation === GALLERY_CONSTS.scrollAnimations.GRAYSCALE) {\n            scrollAnimationCss +=\n                createScrollSelectors(animationPreparationPadding, ' .gallery-item-wrapper') +\n                    (\"{filter: grayscale(100%); transition: filter 1.\" + (200 + _randomDuration) + \"s ease-in !important;}\");\n            scrollAnimationCss +=\n                createScrollSelectors(animationActivePadding, ' .gallery-item-wrapper') + \"{filter: grayscale(0) !important;}\";\n        }\n        if (scrollAnimation === GALLERY_CONSTS.scrollAnimations.SLIDE_UP) {\n            var axis = oneRow ? 'X' : 'Y';\n            var direction = isRTL ? '-' : '';\n            scrollAnimationCss +=\n                createScrollSelectors(animationPreparationPadding, '') +\n                    '{overflow: visible !important;}' +\n                    createScrollSelectors(animationPreparationPadding, ' > div') +\n                    (\"{transform: translate\" + axis + \"(\" + direction + \"100px); transition: transform 0.8s cubic-bezier(.13,.78,.53,.92) !important;}\");\n            scrollAnimationCss +=\n                createScrollSelectors(animationActivePadding, ' > div') +\n                    (\"{transform: translate\" + axis + \"(0) !important;}\");\n        }\n        if (scrollAnimation === GALLERY_CONSTS.scrollAnimations.EXPAND) {\n            scrollAnimationCss +=\n                createScrollSelectors(animationPreparationPadding, ' > div') +\n                    (\"{transform: scale(0.95); transition: transform 1s cubic-bezier(.13,.78,.53,.92) \" + _randomDelay + \"ms !important;}\");\n            scrollAnimationCss +=\n                createScrollSelectors(animationActivePadding, ' > div') +\n                    \"{transform: scale(1) !important;}\";\n        }\n        if (scrollAnimation === GALLERY_CONSTS.scrollAnimations.SHRINK) {\n            scrollAnimationCss +=\n                createScrollSelectors(animationPreparationPadding, '') +\n                    '{overflow: visible !important;}' +\n                    createScrollSelectors(animationPreparationPadding, ' > div') +\n                    (\"{transform: scale(1.05); transition: transform 1s cubic-bezier(.13,.78,.53,.92) \" + _randomDelay + \"ms !important;}\");\n            scrollAnimationCss +=\n                createScrollSelectors(animationActivePadding, ' > div') +\n                    \"{transform: scale(1) !important;}\";\n        }\n        if (scrollAnimation === GALLERY_CONSTS.scrollAnimations.ZOOM_OUT) {\n            scrollAnimationCss +=\n                createScrollSelectors(animationPreparationPadding, ' .gallery-item-wrapper') +\n                    (\"{transform: scale(1.1); transition: transform 1.2s cubic-bezier(.13,.78,.53,.92) \" + _randomDelay + \"ms !important;}\");\n            scrollAnimationCss +=\n                createScrollSelectors(animationActivePadding, ' .gallery-item-wrapper') + \"{transform: scale(1) !important;}\";\n        }\n        if (scrollAnimation === GALLERY_CONSTS.scrollAnimations.ONE_COLOR) {\n            var oneColorAnimationColor = styleParams.oneColorAnimationColor &&\n                styleParams.oneColorAnimationColor.value\n                ? styleParams.oneColorAnimationColor.value\n                : 'transparent';\n            scrollAnimationCss +=\n                createScrollSelectors(animationPreparationPadding, '') +\n                    (\"{background-color: \" + oneColorAnimationColor + \";}\");\n            scrollAnimationCss +=\n                createScrollSelectors(animationPreparationPadding, ' .gallery-item-wrapper') +\n                    (\"{filter: opacity(0); transition: filter 0.\" + (600 + _randomDuration) + \"s ease-in !important;}\");\n            scrollAnimationCss +=\n                createScrollSelectors(animationActivePadding, ' .gallery-item-wrapper') + \"{filter: opacity(1) !important;}\";\n        }\n        return scrollAnimationCss;\n    };\n    return CssScrollHelper;\n}());\nexport var cssScrollHelper = new CssScrollHelper();\n// Testing the best combination of scroll steps (goal is to reduce the number of classe sper item to minimum)\n// ----------------------------------------------------------------------------------------------------------\n// pgScrollSteps = [1000, 100, 10]; -> 6759 / 354 = 19 classes per item\n// pgScrollSteps = [2500, 500, 100, 20]; -> 4137 / 354 = 11.6 classes per item\n// pgScrollSteps = [2560, 1280, 640, 320, 160, 80, 40, 20]; -> 2502 / 354 = 7 classes per item\n// pgScrollSteps = [5120, 2560, 1280, 640, 320, 160, 80, 40, 20]; -> 2502 / 354 = 7 classes per item\n// pgScrollSteps = [5120, 2560, 1280, 640, 320, 160, 80, 40, 20, 10]; -> 2772 / 354 = 7.8 classes per item\n/* eslint-enable prettier/prettier */\n//# sourceMappingURL=cssScrollHelper.js.map"]},"metadata":{},"sourceType":"module"}